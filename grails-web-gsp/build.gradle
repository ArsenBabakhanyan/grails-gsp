configurations {
    optional
}


dependencies {
    compile project(":grails-web-common"), project(":grails-web-mvc")
    
    optional "org.apache.ant:ant:${antVersion}"

    testRuntime project(":grails-web")
}

sourceSets {
    main {
        compileClasspath += files(configurations.optional)
    }
}

javadoc.classpath += files(configurations.optional)
test.configuration = configurations.testRuntime

eclipse {
    classpath {
        file {
            whenMerged { classpath ->
                classpath.entries.remove(classpath.entries.find { it.path == '/grails-web'})
            }
        }
    }
}

