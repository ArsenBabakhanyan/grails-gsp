
dependencies {
    compile "commons-lang:commons-lang:$commonsLangVersion"
    compile project(":grails-web"),
            project(":grails-plugin-codecs"),
            project(":grails-logging"),
            project(":grails-plugin-controllers")
}
sourceSets {
    main {
        compileClasspath = files(configurations.compile, ast.output)
    }
    ast {
        groovy.srcDirs = ['src/ast/groovy']
        resources.srcDirs = []
    }
    test {
        compileClasspath = files(ast.output, configurations.testCompile)
        runtimeClasspath = files(ast.output, configurations.testCompile, test.output)
    }
}
test {
    maxParallelForks = 4
    forkEvery = 100
    maxHeapSize = '1024m'
}
jar{
    from compileAstGroovy.outputs.files
}

jar.appendix = 'plugin-gsp'